import{_ as B,c as u,r as m,o as b,G as d,b as y,u as t,d as x,e as I,f as n,g as p,n as k,F as C,h as D,x as E,i as F,j as _,q as H,s as N,E as g,L as V}from"./app-0e5c4b28.js";import{B as L,u as T}from"./useHandleEvent-836b9e3b.js";import{B as j}from"./BotsConfirmatiomModal-fe1c1418.js";import{m as q}from"./manager_rows-f136a19f.js";import"./BotsButtonWarning-1aff3126.js";const z=s=>(H("data-v-69b59f50"),s=s(),N(),s),G={class:"col-md-12"},R={class:"card card-primary"},U=z(()=>n("div",{class:"card-header"}," Менеджер ",-1)),A={name:"ShowManager",setup(s){const a=D(),h=E(),r=u(()=>a.getters[g.manager]),l=u(()=>a.getters[g.isSubmitting]),e=m({}),o=m(!1),{handleEvent:v}=T({localData:e,showModal:o,actions:{submit:M,delete:f}});function f(){o.value=!0}function M(){a.dispatch(d.updateManager,e.value).then(()=>{e.value={...r.value}})}function w(){a.dispatch(d.deleteManager,{id:r.value.id}).then(()=>{F.push({name:"showManagers"})})}return b(()=>{const c=h.params.id;a.dispatch(d.getManager,c).then(()=>{e.value={...r.value}})}),(c,i)=>(_(),y(C,null,[t(l)?(_(),x(V,{key:0})):I("",!0),n("div",{class:k([{loading:t(l)},"row"])},[n("div",G,[n("div",R,[U,p(L,{data:e.value,rows:t(q),onHandle:t(v)},null,8,["data","rows","onHandle"])])])],2),p(j,{title:"Подтверждение действия",message:"Вы уверены, что хотите удалить этого админа?",showModal:o.value,"onUpdate:showModal":i[0]||(i[0]=S=>o.value=S),onConfirm:w},null,8,["showModal"])],64))}},W=B(A,[["__scopeId","data-v-69b59f50"]]);export{W as default};
