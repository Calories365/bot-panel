import{u as v,_ as A}from"./usePagination-695892ee.js";import{_ as k,c as i,r,o as P,D as p,b as z,u as e,d as x,e as B,f as g,g as m,n as M,F as U,h as D,i as F,j as u,C as l,L as I}from"./app-be1917af.js";import{B as N}from"./BotsConfirmatiomModal-42922208.js";const T=[{label:"ID",key:"id",type:"default",action:null,limit:40},{label:"Юзернейм",key:"name",type:"link",action:"show",limit:40},{label:"Удаление",key:"delete",type:"button",action:"delete",limit:40}];const V={class:"card"},E={name:"ShowAdmins",emits:["handle"],setup(L,{emit:$}){const t=D(),h=i(()=>t.getters[l.admins]),d=i(()=>t.getters[l.isSubmitting]),s=i(()=>t.getters[l.pagination]),_=[10,20,30,40,50],f="Количество админов на странице",o=r(!1),n=r(null),{currentPage:j,pageSize:H,handlePageChange:y,handlePageSizeChange:C}=v(t.dispatch);P(()=>{t.dispatch(p.getAllAdmins).then(a=>{}).catch(a=>{console.error("Failed to load admins:",a)})});function w(a){a.action==="delete"&&(n.value=a.id,o.value=!0),a.action==="show"&&F.push(`/showAdmins/${a.id}`)}const S=()=>{t.dispatch(p.deleteAdmin,{id:n.value}),n.value=null};return(a,c)=>(u(),z(U,null,[e(d)?(u(),x(I,{key:0})):B("",!0),g("div",{class:M([{loading:e(d)},"col-12"])},[g("div",V,[m(A,{"per-page-text":f,columns:e(T),data:e(h),"total-pages":e(s).totalPages,"current-page":e(s).currentPage,"page-size-options":_,"per-page":e(s).perPage,"onUpdate:pageChange":e(y),"onUpdate:pageSizeChange":e(C),onHandle:w},null,8,["columns","data","total-pages","current-page","per-page","onUpdate:pageChange","onUpdate:pageSizeChange"])])],2),m(N,{title:"Подтверждение действия",message:"Вы уверены, что хотите удалить этого админа?",showModal:o.value,"onUpdate:showModal":c[0]||(c[0]=b=>o.value=b),onConfirm:S},null,8,["showModal"])],64))}},J=k(E,[["__scopeId","data-v-158c30d0"]]);export{J as default};
