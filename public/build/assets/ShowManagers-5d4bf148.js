import{u as S,_ as v}from"./usePagination-695892ee.js";import{_ as k,c as l,r as g,o as P,G as d,b as z,u as e,d as x,e as B,f as p,g as u,n as U,F as E,h as F,i as I,j as m,E as r,L as N}from"./app-be1917af.js";import{B as T}from"./BotsConfirmatiomModal-42922208.js";const V=[{label:"ID",key:"id",type:"default",action:null,limit:40},{label:"Юзернейм",key:"name",type:"link",action:"show",limit:40},{label:"Удаление",key:"delete",type:"button",action:"delete",limit:40}];const D={class:"card"},L={name:"ShowManagers",emits:["handle"],setup($,{emit:j}){const t=F(),h=l(()=>t.getters[r.managers]),i=l(()=>t.getters[r.isSubmitting]),s=l(()=>t.getters[r.pagination]),_=[10,20,30,40,50],f="Количество менеджеров на странице",n=g(!1),o=g(null),{currentPage:A,pageSize:G,handlePageChange:M,handlePageSizeChange:y}=S(t.dispatch);P(()=>{t.dispatch(d.getAllManagers).then(a=>{}).catch(a=>{console.error("Failed to load admins:",a)})});function b(a){a.action==="delete"&&(o.value=a.id,n.value=!0),a.action==="show"&&I.push(`/showManagers/${a.id}`)}const w=()=>{t.dispatch(d.deleteManager,{id:o.value}),o.value=null};return(a,c)=>(m(),z(E,null,[e(i)?(m(),x(N,{key:0})):B("",!0),p("div",{class:U([{loading:e(i)},"col-12"])},[p("div",D,[u(v,{"per-page-text":f,columns:e(V),data:e(h),"total-pages":e(s).totalPages,"current-page":e(s).currentPage,"page-size-options":_,"per-page":e(s).perPage,"onUpdate:pageChange":e(M),"onUpdate:pageSizeChange":e(y),onHandle:b},null,8,["columns","data","total-pages","current-page","per-page","onUpdate:pageChange","onUpdate:pageSizeChange"])])],2),u(T,{title:"Подтверждение действия",message:"Вы уверены, что хотите удалить этого менеджера?",showModal:n.value,"onUpdate:showModal":c[0]||(c[0]=C=>n.value=C),onConfirm:w},null,8,["showModal"])],64))}},J=k(L,[["__scopeId","data-v-f587b069"]]);export{J as default};
