import{_ as B,c as m,r as f,o as M,D as l,b as k,u as d,d as x,e as C,f as i,g as v,n as D,F as I,h as b,x as E,i as F,j as _,q as H,s as N,C as h,L as V}from"./app-0435e394.js";import{B as y}from"./BotsForm-fde65c25.js";import{B as L}from"./BotsConfirmatiomModal-b322e21c.js";import{a as T}from"./admin_rows-e1561ab5.js";import"./BotsButtonWarning-1c54a521.js";function j({localData:t,showModal:s=!1,actions:c={}}){function o(e){if(e.key&&e.value!==void 0)t.value[e.key]=e.value;else if(e.action){const a=c[e.action];a?a(e):console.log("Неизвестное действие")}}return{handleEvent:o,showModal:s}}const q=t=>(H("data-v-f168a5c7"),t=t(),N(),t),z={class:"col-md-12"},R={class:"card card-primary"},U=q(()=>i("div",{class:"card-header"}," Админ ",-1)),G={name:"ShowAdmin",setup(t){const s=b(),c=E(),o=m(()=>s.getters[h.admin]),e=m(()=>s.getters[h.isSubmitting]),a=f({}),n=f(!1),{handleEvent:p}=j({localData:a,showModal:n,actions:{submit:w,delete:A}});function w(){s.dispatch(l.updateAdmin,a.value).then(()=>{a.value={...o.value}})}function g(){n.value=!1,s.dispatch(l.deleteAdmin,{id:o.value.id}).then(()=>{F.push({name:"showAdmins"})})}function A(){n.value=!0}return M(()=>{const r=c.params.id;s.dispatch(l.getAdmin,r).then(()=>{a.value={...o.value}})}),(r,u)=>(_(),k(I,null,[d(e)?(_(),x(V,{key:0})):C("",!0),i("div",{class:D([{loading:d(e)},"row"])},[i("div",z,[i("div",R,[U,v(y,{data:a.value,rows:d(T),onHandle:d(p)},null,8,["data","rows","onHandle"])])])],2),v(L,{title:"Подтверждение действия",message:"Вы уверены, что хотите удалить этого админа?",showModal:n.value,"onUpdate:showModal":u[0]||(u[0]=S=>n.value=S),onConfirm:g},null,8,["showModal"])],64))}},W=B(G,[["__scopeId","data-v-f168a5c7"]]);export{W as default};
