import{u as w,_ as C}from"./usePagination-695892ee.js";import{_ as S,c as l,r as d,o as P,a as p,b as x,u as e,d as z,e as M,f as u,g,n as U,F,h as I,i as N,j as m,k as i,L as T}from"./app-be1917af.js";import{B as V}from"./BotsConfirmatiomModal-42922208.js";const D=[{label:"ID",key:"id",type:"default",action:null,limit:40},{label:"Юзернейм",key:"name",type:"link",action:"show",limit:40},{label:"Токен",key:"token",type:"default",action:null,limit:100},{label:"Сообщение",key:"message",type:"default",action:null,limit:40},{label:"Активный",key:"active",type:"checkbox",action:null,limit:40},{label:"Удаление",key:"delete",type:"button",action:"delete",limit:40}];const E={class:"card"},L={name:"ShowBots",emits:["handle"],setup(j,{emit:A}){const a=I(),h=l(()=>a.getters[i.bots]),c=l(()=>a.getters[i.isSubmitting]),o=l(()=>a.getters[i.pagination]),_=[10,20,30,40,50],f="Количество ботов на странице",s=d(!1),n=d(null),{currentPage:H,pageSize:O,handlePageChange:b,handlePageSizeChange:y}=w(a.dispatch);function k(t){t.action==="delete"&&(n.value=t.id,s.value=!0),t.action==="show"&&N.push({name:"showBot",params:{id:t.id}})}const B=()=>{a.dispatch(p.deleteBot,{id:n.value}),n.value=null};return P(()=>{a.dispatch(p.getAllBots).then(t=>{}).catch(t=>{console.error("Failed to load bots:",t)})}),(t,r)=>(m(),x(F,null,[e(c)?(m(),z(T,{key:0})):M("",!0),u("div",{class:U([{loading:e(c)},"col-12"])},[u("div",E,[g(C,{"per-page-text":f,columns:e(D),data:e(h),"total-pages":e(o).totalPages,"current-page":e(o).currentPage,"page-size-options":_,"per-page":e(o).perPage,"onUpdate:pageChange":e(b),"onUpdate:pageSizeChange":e(y),onHandle:k},null,8,["columns","data","total-pages","current-page","per-page","onUpdate:pageChange","onUpdate:pageSizeChange"])])],2),g(V,{title:"Подтверждение действия",message:"Вы уверены, что хотите удалить этого бота?",showModal:s.value,"onUpdate:showModal":r[0]||(r[0]=v=>s.value=v),onConfirm:B},null,8,["showModal"])],64))}},J=S(L,[["__scopeId","data-v-ce0b7373"]]);export{J as default};
