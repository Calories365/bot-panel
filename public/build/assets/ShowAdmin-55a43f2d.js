import{_ as B,c as m,r as u,o as M,D as i,b as y,u as t,d as x,e as C,f as n,g as p,n as D,F as I,h as b,x as k,i as E,j as _,q as F,s as H,C as h,L as N}from"./app-0e5c4b28.js";import{B as V,u as L}from"./useHandleEvent-836b9e3b.js";import{B as T}from"./BotsConfirmatiomModal-fe1c1418.js";import{a as j}from"./admin_rows-e1561ab5.js";import"./BotsButtonWarning-1aff3126.js";const q=o=>(F("data-v-f168a5c7"),o=o(),H(),o),z={class:"col-md-12"},R={class:"card card-primary"},U=q(()=>n("div",{class:"card-header"}," Админ ",-1)),G={name:"ShowAdmin",setup(o){const a=b(),v=k(),d=m(()=>a.getters[h.admin]),l=m(()=>a.getters[h.isSubmitting]),e=u({}),s=u(!1),{handleEvent:f}=L({localData:e,showModal:s,actions:{submit:w,delete:A}});function w(){a.dispatch(i.updateAdmin,e.value).then(()=>{e.value={...d.value}})}function g(){s.value=!1,a.dispatch(i.deleteAdmin,{id:d.value.id}).then(()=>{E.push({name:"showAdmins"})})}function A(){s.value=!0}return M(()=>{const c=v.params.id;a.dispatch(i.getAdmin,c).then(()=>{e.value={...d.value}})}),(c,r)=>(_(),y(I,null,[t(l)?(_(),x(N,{key:0})):C("",!0),n("div",{class:D([{loading:t(l)},"row"])},[n("div",z,[n("div",R,[U,p(V,{data:e.value,rows:t(j),onHandle:t(f)},null,8,["data","rows","onHandle"])])])],2),p(T,{title:"Подтверждение действия",message:"Вы уверены, что хотите удалить этого админа?",showModal:s.value,"onUpdate:showModal":r[0]||(r[0]=S=>s.value=S),onConfirm:g},null,8,["showModal"])],64))}},W=B(G,[["__scopeId","data-v-f168a5c7"]]);export{W as default};
